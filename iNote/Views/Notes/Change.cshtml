@model iNote.Models.Note
@{
    if (ViewBag.Status == "Create")
    {
        ViewData["Title"] = "Создание новой заметки";
    }
    else
    {
        ViewData["Title"] = "Изменение заметки";
        ViewBag.EntryFieldName = $"value=\"{Model.Title}\"";
        ViewBag.EntryFieldDesc = $"value=\"{Model.Desc}\"";
    }
}
<form method="post" class="form-horizontal" role="form">
    <h2>@ViewData["Title"]</h2>
    <div class="form-group">
        <label for="User" class="col-md-2 control-label">Название:</label>
        <div class="col-md-4">
            <input id="newTitle" type="text" name="Title" @Html.Raw(ViewBag.EntryFieldName) class="form-control" />
        </div>
    </div>
    <div class="form-group">
        <label for="Address" class="col-md-2 control-label">Текст:</label>
        <div class="col-md-4">
            <input id="newDesc" type="text" name="Desc" @Html.Raw(ViewBag.EntryFieldDesc) class="form-control" />
        </div>
    </div>
    <label for="Address" class="col-md-2 control-label">Цвет:</label>
    <div class="col-md-4 mb-4">
        <select class="form-control" name="Color">
            <option selected value="dark" class="text-dark">Темно-серый</option>
            <option value="success" class="text-success">Зеленый</option>
            <option value="primary" class="text-primary">Синий</option>
            <option value="danger" class="text-danger">Красный</option>
            <option value="warning" class="text-warning">Желтый</option>
            <option value="secondary" class="text-secondary">Серый</option>
            <option value="white" class="text-white">Белый</option>
        </select>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" id="sendRequest" class="btn btn-success" value="Сохранить" />
        </div>
    </div>
    <div id="content"></div>
</form>

@if (ViewBag.Status == "Change")
{
    <form class="d-none">
        <input id="id" type="text" value="@Model.Id" class="form-control" />
        <input id="oldTitle" type="text" name="Title" @Html.Raw(ViewBag.EntryFieldName) class="form-control" />
        <input id="oldDesc" type="text" name="Desc" @Html.Raw(ViewBag.EntryFieldDesc) class="form-control" />
    </form>

    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/16.13.0/umd/react.development.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.13.0/umd/react-dom.development.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/remarkable/1.7.1/remarkable.min.js"></script>
    <script src="@Url.Content("~/js/site.jsx")"></script>
}
